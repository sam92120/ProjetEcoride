{% extends '@EasyAdmin/page/content.html.twig' %}

{% block content_title %}
    ğŸ“Š Tableau de bord administrateur
{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/admin.css') }}">
{% endblock %}

{% block content %}
<div class="container mt-4">

    <h2 class="mb-4">Bienvenue sur le tableau de bord administrateur</h2>

    <p class="text-muted">
        Voici un aperÃ§u gÃ©nÃ©ral des donnÃ©es de la plateforme.  
        Utilisez le menu Ã  gauche pour gÃ©rer les utilisateurs, trajets, avis et paramÃ¨tres.
    </p>

    <!-- ------------------------------ -->
    <!-- ğŸ“Œ CARTES DE STATISTIQUES -->
    <!-- ------------------------------ -->
    <div class="row mt-4">

        <div class="col-md-4">
            <div class="card shadow-sm p-3 text-center">
                <h4>ğŸ‘¤ Utilisateurs</h4>
                <p class="display-6 fw-bold">{{ users_count }}</p>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card shadow-sm p-3 text-center">
                <h4>ğŸš— Trajets</h4>
                <p class="display-6 fw-bold">{{ trajets_count }}</p>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card shadow-sm p-3 text-center">
                <h4>â­ Avis publiÃ©s</h4>
                <p class="display-6 fw-bold">{{ avis_count }}</p>
            </div>
        </div>

    </div>

    <!-- ------------------------------ -->
    <!-- ğŸ“ˆ CHART 1 : Trajets par mois -->
    <!-- ------------------------------ -->
    <div class="card mt-5 shadow-sm p-4">
        <h4 class="mb-3">ğŸ“… Trajets publiÃ©s par mois</h4>
        {{ render_chart(chartMonthly) }}
    </div>

    <!-- ------------------------------ -->
    <!-- ğŸ§­ CHART 2 : RÃ©partition des statuts -->
    <!-- ------------------------------ -->
    <div class="card mt-5 mb-5 shadow-sm p-4">
        <h4 class="mb-3">ğŸš¦ RÃ©partition des statuts des trajets</h4>
        {{ render_chart(chartStatus) }}
    </div>

</div>
{% endblock %}
